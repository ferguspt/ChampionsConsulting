@page
@using System.Data.SqlClient
@using ChampionsConsulting.Pages.DB
@model IndexModel
@{
    ViewData["Title"] = "Home page";
}

<div class="text-center">
    <h1 class="display-4">Champions Consulting Event System</h1>
</div>
<br/>
<h2 class="h2">Upcoming Events:</h2>

<table class="table table-bordered table-responsive table-striped table-hover">

    <thead class="table-dark">

        <tr>
            <th>Name:</th>

            <th>Description:</th>

            <th>Start Date And Time:</th>

            <th>End Date And Time:</th>

            <th>Location:</th>

        </tr>

    </thead>

    <tbody>

        @{
            string sqlQuery = "Select Name, Description, StartDateAndTime, EndDateAndTime, Place FROM Events Inner Join Location ON Events.LocationId = Location.LocationID;";

            SqlDataReader ConferenceReader = DBClass.EventReader(sqlQuery);

            while (ConferenceReader.Read())

            {

                <tr>

                    <td>@ConferenceReader["Name"]</td>

                    <td>@ConferenceReader["Description"]</td>

                    <td>@ConferenceReader["StartDateAndTime"]</td>

                    <td>@ConferenceReader["EndDateAndTime"]</td>

                    <td>@ConferenceReader["Place"]</td>

                </tr>

            }



            DBClass.CCDBConnection.Close();

        }

    </tbody>

</table>
