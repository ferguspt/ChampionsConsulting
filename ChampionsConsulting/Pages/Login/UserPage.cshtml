@page
@model ChampionsConsulting.Pages.Login.UserPageModel
@{
}

@{
    if (ViewData["LoginMessage"] != null)
    {
        <p>@ViewData["LoginMessage"]</p>
        <a asp-page="UserLogin" asp-route-logout="true">Logout of application</a>
    }
}

@{
    <h1>Hello, @HttpContext.Session.GetString("Username")</h1>
}

<br />

<h2>Upcoming Events & Meetings</h2>

<form method="post">
    <table class="table table-striped table-bordered">
        <tr>
            <th>Meeting Name</th>
            <th>Meeting Type</th>
            <th>Meeting Date</th>
            <th>Meeting Status</th>
            <th>Event Name</th>
            <th>Location</th>
        </tr>
        @foreach (var data in Model.Data) if (data.MeetingDate > DateTime.Now)
            {
                <tr>
                    <td>@data.MeetingName</td>
                    <td>@data.MeetingType</td>
                    <td>@data.MeetingDate.ToShortDateString()</td>
                    <td>@data.MeetingStatus</td>
                    <td>@data.EventName</td>
                    <td>@data.LocationName</td>
                </tr>
            }
    </table>
</form>

<br />

<h2>Past Events & Meetings</h2>

<table class="table table-striped table-bordered">
    <tr>
        <th>Meeting Name</th>
        <th>Meeting Type</th>
        <th>Meeting Date</th>
        <th>Event Name</th>
        <th>Location</th>
    </tr>
    @foreach (var data in Model.Data) if (data.MeetingDate < DateTime.Now)
        {
            <tr>
                <td>@data.MeetingName</td>
                <td>@data.MeetingType</td>
                <td>@data.MeetingDate.ToShortDateString()</td>
                <td>@data.EventName</td>
                <td>@data.LocationName</td>
            </tr>
        }
</table>

